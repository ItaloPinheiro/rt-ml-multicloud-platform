environment: production
debug: false

database:
  host: ${DATABASE_HOST}
  port: ${DATABASE_PORT:-5432}
  database: ${DATABASE_NAME}
  username: ${DATABASE_USER}
  password: ${DATABASE_PASSWORD}
  ssl_mode: require
  connection_timeout: 30
  max_connections: 50

redis:
  host: ${REDIS_HOST}
  port: ${REDIS_PORT:-6379}
  password: ${REDIS_PASSWORD}
  db: 0
  socket_timeout: 5
  socket_connect_timeout: 5
  max_connections: 100
  retry_on_timeout: true

mlflow:
  tracking_uri: ${MLFLOW_TRACKING_URI}
  registry_uri: ${MLFLOW_REGISTRY_URI}
  experiment_name: ${MLFLOW_EXPERIMENT_NAME:-fraud_detection}
  artifact_location: ${MLFLOW_ARTIFACT_ROOT}
  default_tags:
    environment: production
    team: data-science
    version: ${VERSION:-latest}

pubsub:
  project_id: ${GCP_PROJECT}
  credentials_path: ${GOOGLE_APPLICATION_CREDENTIALS}
  emulator_host: null

kinesis:
  region: ${AWS_REGION:-us-east-1}
  access_key_id: ${AWS_ACCESS_KEY_ID}
  secret_access_key: ${AWS_SECRET_ACCESS_KEY}
  session_token: ${AWS_SESSION_TOKEN}
  endpoint_url: null

kafka:
  bootstrap_servers: ${KAFKA_BOOTSTRAP_SERVERS}
  security_protocol: ${KAFKA_SECURITY_PROTOCOL:-SASL_SSL}
  sasl_mechanism: ${KAFKA_SASL_MECHANISM:-PLAIN}
  sasl_username: ${KAFKA_SASL_USERNAME}
  sasl_password: ${KAFKA_SASL_PASSWORD}

api:
  host: 0.0.0.0
  port: ${API_PORT:-8000}
  workers: ${API_WORKERS:-4}
  reload: false
  debug: false
  cors_origins: ${CORS_ORIGINS:-*}
  max_request_size: 16777216  # 16MB
  timeout: 60

monitoring:
  prometheus_enabled: true
  prometheus_port: ${PROMETHEUS_PORT:-9090}
  grafana_enabled: true
  grafana_port: ${GRAFANA_PORT:-3001}
  log_level: ${LOG_LEVEL:-INFO}
  structured_logging: true

# Production-optimized settings
feature_store_ttl: 3600  # 1 hour
model_cache_size: 10
batch_size: 1000
max_retries: 3

custom:
  enable_debug_endpoints: false
  mock_external_services: false
  log_sql_queries: false
  enable_profiling: false
  health_check_interval: 30
  metrics_collection_interval: 60